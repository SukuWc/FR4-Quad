#ifndef __mpu9250_H
#define __mpu9250_H

#include "main.h"
#include "i2c.h"

#define I2C_HANDLE &hi2c2
#define I2C_ADDR 0x68
#define delay(x) HAL_Delay(x)

void mpu9250_getAcceleration(int16_t* x, int16_t* y, int16_t* z);
int16_t mpu9250_getAccelerationX();
int16_t mpu9250_getAccelerationY();
int16_t mpu9250_getAccelerationZ();
uint8_t mpu9250_getAccelerometerPowerOnDelay();
uint8_t mpu9250_getAccelFIFOEnabled();
uint8_t mpu9250_getAccelXSelfTest();
uint8_t mpu9250_getAccelYSelfTest();
uint8_t mpu9250_getAccelZSelfTest();
uint8_t mpu9250_getAuxVDDIOLevel();
uint8_t mpu9250_getClockOutputEnabled();
uint8_t mpu9250_getClockSource();
uint8_t mpu9250_getDeviceID();
uint8_t mpu9250_getDHPFMode();
uint8_t mpu9250_getDLPFMode();
uint8_t mpu9250_getDMPConfig1();
uint8_t mpu9250_getDMPConfig2();
uint8_t mpu9250_getDMPEnabled();
uint8_t mpu9250_getDMPInt0Status();
uint8_t mpu9250_getDMPInt1Status();
uint8_t mpu9250_getDMPInt2Status();
uint8_t mpu9250_getDMPInt3Status();
uint8_t mpu9250_getDMPInt4Status();
uint8_t mpu9250_getDMPInt5Status();
uint8_t mpu9250_getExternalFrameSync();
uint8_t mpu9250_getExternalSensorByte(int position);
uint32_t mpu9250_getExternalSensorDWord(int position);
uint16_t mpu9250_getExternalSensorWord(int position);
uint8_t mpu9250_getExternalShadowDelayEnabled();
void mpu9250_getFIFOBytes(uint8_t *data, uint8_t length);
uint8_t mpu9250_getFIFOByte();
uint16_t mpu9250_getFIFOCount();
uint8_t mpu9250_getFIFOEnabled();
uint8_t mpu9250_getFreefallDetectionCounterDecrement();
uint8_t mpu9250_getFreefallDetectionDuration();
uint8_t mpu9250_getFreefallDetectionThreshold();
uint8_t mpu9250_getFSyncInterruptEnabled();
uint8_t mpu9250_getFSyncInterruptLevel();
uint8_t mpu9250_getFullScaleAccelRange();
uint8_t mpu9250_getFullScaleGyroRange();
uint8_t mpu9250_getI2CBypassEnabled();
uint8_t mpu9250_getI2CMasterModeEnabled();
uint8_t mpu9250_getIntDataReadyEnabled();
uint8_t mpu9250_getIntDataReadyStatus();
uint8_t mpu9250_getIntDMPEnabled();
uint8_t mpu9250_getIntDMPStatus();
uint8_t mpu9250_getIntEnabled();
uint8_t mpu9250_getInterruptDrive();
uint8_t mpu9250_getInterruptLatchClear();
uint8_t mpu9250_getInterruptLatch();
uint8_t mpu9250_getInterruptMode();
uint8_t mpu9250_getIntFIFOBufferOverflowEnabled();
uint8_t mpu9250_getIntFIFOBufferOverflowStatus();
uint8_t mpu9250_getIntFreefallEnabled();
uint8_t mpu9250_getIntFreefallStatus();
uint8_t mpu9250_getIntI2CMasterEnabled();
uint8_t mpu9250_getIntI2CMasterStatus();
uint8_t mpu9250_getIntMotionEnabled();
uint8_t mpu9250_getIntMotionStatus();
uint8_t mpu9250_getIntPLLReadyEnabled();
uint8_t mpu9250_getIntPLLReadyStatus();
uint8_t mpu9250_getIntStatus();
uint8_t mpu9250_getIntZeroMotionEnabled();
uint8_t mpu9250_getIntZeroMotionStatus();
uint8_t mpu9250_getLostArbitration();
uint8_t mpu9250_getMasterClockSpeed();
void mpu9250_getMotion6(int16_t* ax, int16_t* ay, int16_t* az, int16_t* gx, int16_t* gy, int16_t* gz);
void mpu9250_getMotion9(int16_t* ax, int16_t* ay, int16_t* az, int16_t* gx, int16_t* gy, int16_t* gz, int16_t* mx, int16_t* my, int16_t* mz);
uint8_t mpu9250_getMotionDetectionCounterDecrement();
uint8_t mpu9250_getMotionDetectionDuration();
uint8_t mpu9250_getMotionDetectionThreshold();
uint8_t mpu9250_getMultiMasterEnabled();
uint8_t mpu9250_getOTPBankValid();
uint8_t mpu9250_getPassthroughStatus();
uint8_t mpu9250_getRate();
void mpu9250_getRotation(int16_t* x, int16_t* y, int16_t* z);
int16_t mpu9250_getRotationX();
int16_t mpu9250_getRotationY();
int16_t mpu9250_getRotationZ();
uint8_t mpu9250_getSlate4InputByte();
uint8_t mpu9250_getSlave0FIFOEnabled();
uint8_t mpu9250_getSlave0Nack();
uint8_t mpu9250_getSlave1FIFOEnabled();
uint8_t mpu9250_getSlave1Nack();
uint8_t mpu9250_getSlave2FIFOEnabled();
uint8_t mpu9250_getSlave2Nack();
uint8_t mpu9250_getSlave3FIFOEnabled();
uint8_t mpu9250_getSlave3Nack();
uint8_t mpu9250_getSlave4Address();
uint8_t mpu9250_getSlave4Enabled();
uint8_t mpu9250_getSlave4InterruptEnabled();
uint8_t mpu9250_getSlave4IsDone();
uint8_t mpu9250_getSlave4MasterDelay();
uint8_t mpu9250_getSlave4Nack();
uint8_t mpu9250_getSlave4Register();
uint8_t mpu9250_getSlave4WriteMode();
uint8_t mpu9250_getSlaveAddress(uint8_t num);
uint8_t mpu9250_getSlaveDataLength(uint8_t num);
uint8_t mpu9250_getSlaveDelayEnabled(uint8_t num);
uint8_t mpu9250_getSlaveEnabled(uint8_t num);
uint8_t mpu9250_getSlaveReadWriteTransitionEnabled();
uint8_t mpu9250_getSlaveRegister(uint8_t num);
uint8_t mpu9250_getSlaveWordByteSwap(uint8_t num);
uint8_t mpu9250_getSlaveWordGroupOffset(uint8_t num);
uint8_t mpu9250_getSlaveWriteMode(uint8_t num);
uint8_t mpu9250_getSleepEnabled();
uint8_t mpu9250_getStandbyXAccelEnabled();
uint8_t mpu9250_getStandbyXGyroEnabled();
uint8_t mpu9250_getStandbyYAccelEnabled();
uint8_t mpu9250_getStandbyYGyroEnabled();
uint8_t mpu9250_getStandbyZAccelEnabled();
uint8_t mpu9250_getStandbyZGyroEnabled();
int16_t mpu9250_getTemperature();
uint8_t mpu9250_getTempFIFOEnabled();
uint8_t mpu9250_getTempSensorEnabled();
uint8_t mpu9250_getWaitForExternalSensorEnabled();
uint8_t mpu9250_getWakeCycleEnabled();
uint8_t mpu9250_getWakeFrequency();
int16_t mpu9250_getXAccelOffset();
int8_t mpu9250_getXFineGain();
uint8_t mpu9250_getXGyroFIFOEnabled();
int8_t mpu9250_getXGyroOffset();
int16_t mpu9250_getXGyroOffsetUser();
uint8_t mpu9250_getXNegMotionDetected();
uint8_t mpu9250_getXPosMotionDetected();
int16_t mpu9250_getYAccelOffset();
int8_t mpu9250_getYFineGain();
uint8_t mpu9250_getYGyroFIFOEnabled();
int8_t mpu9250_getYGyroOffset();
int16_t mpu9250_getYGyroOffsetUser();
uint8_t mpu9250_getYNegMotionDetected();
uint8_t mpu9250_getYPosMotionDetected();
int16_t mpu9250_getZAccelOffset();
uint8_t mpu9250_getZeroMotionDetected();
uint8_t mpu9250_getZeroMotionDetectionDuration();
uint8_t mpu9250_getZeroMotionDetectionThreshold();
int8_t mpu9250_getZFineGain();
uint8_t mpu9250_getZGyroFIFOEnabled();
int8_t mpu9250_getZGyroOffset();
int16_t mpu9250_getZGyroOffsetUser();
uint8_t mpu9250_getZNegMotionDetected();
uint8_t mpu9250_getZPosMotionDetected();
void mpu9250_initialize();
void mpu9250_readMemoryBlock(uint8_t *data, uint16_t dataSize, uint8_t bank, uint8_t address);
uint8_t mpu9250_readMemoryByte();
void mpu9250_resetAccelerometerPath();
void mpu9250_resetDMP();
void mpu9250_resetFIFO();
void mpu9250_resetGyroscopePath();
void mpu9250_resetI2CMaster();
void mpu9250_resetSensors();
void mpu9250_resetTemperaturePath();
void mpu9250_reset();
void mpu9250_setAccelerometerPowerOnDelay(uint8_t delay);
void mpu9250_setAccelFIFOEnabled(uint8_t enabled);
void mpu9250_setAccelXSelfTest(uint8_t enabled);
void mpu9250_setAccelYSelfTest(uint8_t enabled);
void mpu9250_setAccelZSelfTest(uint8_t enabled);
void mpu9250_setAuxVDDIOLevel(uint8_t level);
void mpu9250_setClockOutputEnabled(uint8_t enabled);
void mpu9250_setClockSource(uint8_t source);
void mpu9250_setDeviceID(uint8_t id);
void mpu9250_setDHPFMode(uint8_t bandwidth);
void mpu9250_setDLPFMode(uint8_t mode);
void mpu9250_setDMPConfig1(uint8_t config);
void mpu9250_setDMPConfig2(uint8_t config);
void mpu9250_setDMPEnabled(uint8_t enabled);
void mpu9250_setExternalFrameSync(uint8_t sync);
void mpu9250_setExternalShadowDelayEnabled(uint8_t enabled);
void mpu9250_setFIFOByte(uint8_t data);
void mpu9250_setFIFOEnabled(uint8_t enabled);
void mpu9250_setFreefallDetectionCounterDecrement(uint8_t decrement);
void mpu9250_setFreefallDetectionDuration(uint8_t duration);
void mpu9250_setFreefallDetectionThreshold(uint8_t threshold);
void mpu9250_setFSyncInterruptEnabled(uint8_t enabled);
void mpu9250_setFSyncInterruptLevel(uint8_t level);
void mpu9250_setFullScaleAccelRange(uint8_t range);
void mpu9250_setFullScaleGyroRange(uint8_t range);
void mpu9250_setI2CBypassEnabled(uint8_t enabled);
void mpu9250_setI2CMasterModeEnabled(uint8_t enabled);
void mpu9250_setIntDataReadyEnabled(uint8_t enabled);
void mpu9250_setIntDMPEnabled(uint8_t enabled);
void mpu9250_setIntEnabled(uint8_t enabled);
void mpu9250_setInterruptDrive(uint8_t drive);
void mpu9250_setInterruptLatchClear(uint8_t clear);
void mpu9250_setInterruptLatch(uint8_t latch);
void mpu9250_setInterruptMode(uint8_t mode);
void mpu9250_setIntFIFOBufferOverflowEnabled(uint8_t enabled);
void mpu9250_setIntFreefallEnabled(uint8_t enabled);
void mpu9250_setIntI2CMasterEnabled(uint8_t enabled);
void mpu9250_setIntMotionEnabled(uint8_t enabled);
void mpu9250_setIntPLLReadyEnabled(uint8_t enabled);
void mpu9250_setIntZeroMotionEnabled(uint8_t enabled);
void mpu9250_setMasterClockSpeed(uint8_t speed);
void mpu9250_setMemoryBank(uint8_t bank);
void mpu9250_setMemoryStartAddress(uint8_t address);
void mpu9250_setMotionDetectionCounterDecrement(uint8_t decrement);
void mpu9250_setMotionDetectionDuration(uint8_t duration);
void mpu9250_setMotionDetectionThreshold(uint8_t threshold);
void mpu9250_setMultiMasterEnabled(uint8_t enabled);
void mpu9250_setOTPBankValid(uint8_t enabled);
void mpu9250_setRate(uint8_t rate);
void mpu9250_setSlave0FIFOEnabled(uint8_t enabled);
void mpu9250_setSlave1FIFOEnabled(uint8_t enabled);
void mpu9250_setSlave2FIFOEnabled(uint8_t enabled);
void mpu9250_setSlave3FIFOEnabled(uint8_t enabled);
void mpu9250_setSlave4Address(uint8_t address);
void mpu9250_setSlave4Enabled(uint8_t enabled);
void mpu9250_setSlave4InterruptEnabled(uint8_t enabled);
void mpu9250_setSlave4MasterDelay(uint8_t delay);
void mpu9250_setSlave4OutputByte(uint8_t data);
void mpu9250_setSlave4Register(uint8_t reg);
void mpu9250_setSlave4WriteMode(uint8_t mode);
void mpu9250_setSlaveAddress(uint8_t num, uint8_t address);
void mpu9250_setSlaveDataLength(uint8_t num, uint8_t length);
void mpu9250_setSlaveDelayEnabled(uint8_t num, uint8_t enabled);
void mpu9250_setSlaveEnabled(uint8_t num, uint8_t enabled);
void mpu9250_setSlaveOutputByte(uint8_t num, uint8_t data);
void mpu9250_setSlaveReadWriteTransitionEnabled(uint8_t enabled);
void mpu9250_setSlaveRegister(uint8_t num, uint8_t reg);
void mpu9250_setSlaveWordByteSwap(uint8_t num, uint8_t enabled);
void mpu9250_setSlaveWordGroupOffset(uint8_t num, uint8_t enabled);
void mpu9250_setSlaveWriteMode(uint8_t num, uint8_t mode);
void mpu9250_setSleepEnabled(uint8_t enabled);
void mpu9250_setStandbyXAccelEnabled(uint8_t enabled);
void mpu9250_setStandbyXGyroEnabled(uint8_t enabled);
void mpu9250_setStandbyYAccelEnabled(uint8_t enabled);
void mpu9250_setStandbyYGyroEnabled(uint8_t enabled);
void mpu9250_setStandbyZAccelEnabled(uint8_t enabled);
void mpu9250_setStandbyZGyroEnabled(uint8_t enabled);
void mpu9250_setTempFIFOEnabled(uint8_t enabled);
void mpu9250_setTempSensorEnabled(uint8_t enabled);
void mpu9250_setWaitForExternalSensorEnabled(uint8_t enabled);
void mpu9250_setWakeCycleEnabled(uint8_t enabled);
void mpu9250_setWakeFrequency(uint8_t frequency);
void mpu9250_setXAccelOffset(int16_t offset);
void mpu9250_setXFineGain(int8_t gain);
void mpu9250_setXGyroFIFOEnabled(uint8_t enabled);
void mpu9250_setXGyroOffsetUser(int16_t offset);
void mpu9250_setXGyroOffset(int8_t offset);
void mpu9250_setYAccelOffset(int16_t offset);
void mpu9250_setYFineGain(int8_t gain);
void mpu9250_setYGyroFIFOEnabled(uint8_t enabled);
void mpu9250_setYGyroOffsetUser(int16_t offset);
void mpu9250_setYGyroOffset(int8_t offset);
void mpu9250_setZAccelOffset(int16_t offset);
void mpu9250_setZeroMotionDetectionDuration(uint8_t duration);
void mpu9250_setZeroMotionDetectionThreshold(uint8_t threshold);
void mpu9250_setZFineGain(int8_t gain);
void mpu9250_setZGyroFIFOEnabled(uint8_t enabled);
void mpu9250_setZGyroOffsetUser(int16_t offset);
void mpu9250_setZGyroOffset(int8_t offset);
void mpu9250_switchSPIEnabled(uint8_t enabled);
uint8_t mpu9250_testConnection();
uint8_t mpu9250_writeDMPConfigurationSet(const uint8_t *data, uint16_t dataSize, uint8_t useProgMem);
uint8_t mpu9250_writeMemoryBlock(const uint8_t *data, uint16_t dataSize, uint8_t bank, uint8_t address, uint8_t verify, uint8_t useProgMem);
void mpu9250_writeMemoryByte(uint8_t data);
uint8_t mpu9250_writeProgDMPConfigurationSet(const uint8_t *data, uint16_t dataSize);
uint8_t mpu9250_writeProgMemoryBlock(const uint8_t *data, uint16_t dataSize, uint8_t bank, uint8_t address, uint8_t verify);
#endif
